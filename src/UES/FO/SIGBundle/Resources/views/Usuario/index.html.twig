{% extends 'SIGBundle:Default:index.html.twig' %}
{% import _self as util %}
{% block content %}
<h1>{{ title }}</h1>
<div class="table-responsive">
    <table class="table striped">
        <thead>
            <tr>
                <th>Nombre completo</th>
                <th>Nombre de usuario</th>
                <th>Habilitado</th>
                <th>Operaci칩n</th>
            </tr>
        </thead>
        <tbody>
            {% for entity in entities %}
            <tr>
                <td>{{ entity.nombres ~ ' ' ~ entity.apellidos }}</td>
                <td>{{ entity.username }}</td>
                <td>{{ util.estado(entity.enabled) }}</td>
                <td>
                    <div class="btn-group btn-group-vertical">
                        <a href="{{ path('usuario_show', { 'username': entity.username }) }}" class="btn btn-info btn-xs"><i class="glyphicon glyphicon-eye-open"></i> Consultar</a>
                        <a href="{{ path('usuario_edit', { 'username': entity.username }) }}" class="btn btn-info btn-xs"><i class="glyphicon glyphicon-pencil"></i> Modificar</a>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<a class="btn btn-primary" href="{{ path('usuario_new') }}"><i class="glyphicon glyphicon-plus"></i> Ingresar nuevo usuario</a>
{% endblock %}


{% macro getNivel(rol) %}
    {% if rol == 'ROLE_OPERATIVE' %}
        Administraci칩n del sistema
    {% elseif rol == 'ROLE_TACTIC' %}
        T치ctico
    {% elseif rol == 'ROLE_STRATEGIC' %}
        Estr치tegico
    {% else %}
        Sin rol
    {% endif %}
{% endmacro %}

{% macro estado(estado) %}
    {% if estado %}
        <i class="glyphicon glyphicon-ok-circle"></i>
    {% else %}
        <i class="glyphicon glyphicon-ban-circle"></i>
    {% endif %}
{% endmacro %}

{% macro modal(id, type, title, body) %}
<div class="modal fade" id="{{id}}" tabindex="-1" role="dialog" aria-hidden="true" style="width: 100%">
    <div class="modal-dialog {% if type == 'lg' %}modal-lg{% elseif type == 'sm' %}modal-sm{% else %}{% endif %}">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">{{ title }}</h4>
            </div>
            <div id="modal-content" class="modal-body loading">
                {% if body is empty %}
                <!-- <div class="spinner">
                    <div class="bounce1"></div>
                    <div class="bounce2"></div>
                    <div class="bounce3"></div>
                </div> -->
                <div id="spinner">
                    <div class="loader">Cargando</div>
                </div>
                {% else %}
                {{ body|raw }}
                {% endif %}
            </div>
            <div class="modal-footer">
                <button type="button" id="{{ id ~ '-acept' }}" class="btn btn-primary" data-loading-text="Enviando...">Aceptar</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancelar</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
{% endmacro %}

{% macro pwd_form() %}
{% endmacro %}
